<!DOCTYPE html>
<script>
window.download = { data: 'hahahaha', filename: 'ttt.dae'};
navigator.webkitPersistentStorage.requestQuota(1024 * 1024, function() {
  window.webkitRequestFileSystem(window.TEMPORARY , 1024 * 1024, SaveDatFileBro);
});
function SaveDatFileBro(localstorage) {
  const filename = window.download.filename;
  localstorage.root.getFile(filename, {create: true}, function(DatFile) {
    DatFile.createWriter(function(DatContent) {
      // @ts-ignore
      const blob = new Blob([window.download.data], {type: 'model/vnd.collada+xml;charset=utf-8'});
      DatContent.write(blob);
      const link = document.createElement('a');
      link.href = 'filesystem:' + window.location.protocol + '//' + window.location.hostname + '/temporary/' + filename;
      link.download = filename;
      link.click();
    });
  });
}
</script>
<h1>Hello</h1>
